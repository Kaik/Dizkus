<!--[*  $Id$  *]-->
<!--[pnpageaddvar name='javascript' value='modules/Dizkus/pnjavascript/dizkus_admin_ranks.js']-->
<!--[gt text="Edit honorary ranks" assign=templatetitle]-->
<!--[cssversion assign='configclass']-->
<!--[include file='dizkus_admin_header.html']-->

<p class="pn-informationmsg"><!--[gt text="This link will allow you to create special ranks for special users."]--></p>
<form class="<!--[$configclass]-->" action="<!--[pnmodurl modname='Dizkus' type='admin' func='ranks' ranktype='1']-->" method="post">
    <fieldset>
        <legend><!--[gt text="Add a new rank"]--></legend>
        <input type="hidden" name="ranks[-1][rank_special]" value="1" />
        <div class="<!--[$configclass]-->row">
            <label for="rank_title"><!--[gt text="User rank"]--></label>
            <input id="rank_title" type="text" name="ranks[-1][rank_title]" value="" maxlength="50" size="20" />
        </div>
        <div class="<!--[$configclass]-->row">
            <label for="newrank_image"><!--[gt text="Image"]--></label>
            <div>
                <select name="ranks[-1][rank_image]" id="newrank_image" onchange="ShowNewRankImage('<!--[$pncore.Dizkus.url_ranks_images]-->')">
                    <!--[foreach name='availableranks' item='rankimage' from=$rankimages]-->
                    <option value="<!--[$rankimage]-->" <!--[if $smarty.foreach.availableranks.first]-->selected="selected"<!--[capture assign=selectedimage"]--><!--[$rankimage]--><!--[/capture]--><!--[/if]-->><!--[$rankimage]--></option>
                    <!--[/foreach]-->
                </select>
                <img id="newimage" src="<!--[$pncore.Dizkus.url_ranks_images]-->/<!--[$selectedimage]-->" alt="rankimage" />
            </div>
        </div>
        <div class="<!--[$configclass]-->row">
            <label for="rank_desc"><!--[gt text="Rank description (when starting with http:// the rank image will be linked to this page"]--></label>
            <input id="rank_desc" type="text" name="ranks[-1][rank_desc]" value="" maxlength="255" size="60" />
        </div>
    </fieldset>
    <div class="<!--[$configclass]-->buttons">
        <button class="dzk_img add" type="submit" name="submit" value="<!--[gt text="Add"]-->"><!--[gt text="Add"]--></button>
    </div>
</form>

<form class="<!--[$configclass]-->" action="<!--[pnmodurl modname='Dizkus' type='admin' func='ranks' ranktype='1']-->" method="post">
    <table class="pn-admintable">
        <thead>
            <tr>
                <th><!--[gt text="User rank"]--></th>
                <th><!--[gt text="Image"]--></th>
                <th><!--[gt text="Rank description"]--></th>
                <th><!--[gt text="Delete this rank"]--></th>
            </tr>
        </thead>
        <tbody>
            <!--[foreach key=num item=rank from=$ranks]-->
            <tr class="<!--[cycle values='pn-odd,pn-even']-->">
                <td>
                    <input type="text" name="ranks[<!--[$rank.rank_id]-->][rank_title]" value="<!--[$rank.rank_title|pnvarprepfordisplay]-->" maxlength="50" size="20" />
                </td>
                <td>
                    <select name="ranks[<!--[$rank.rank_id]-->][rank_image]" id="rank_image<!--[$num]-->" onchange="ShowRankImage(<!--[$num]-->, '<!--[$pncore.Dizkus.url_ranks_images]-->')">
                        <!--[foreach item='rankimage' from=$rankimages]-->
                        <option value="<!--[$rankimage]-->" <!--[if $rankimage eq $rank.rank_image]-->selected="selected"<!--[/if]-->><!--[$rankimage]--></option>
                        <!--[/foreach]-->
                    </select><img id="image<!--[$num]-->" src="<!--[$pncore.Dizkus.url_ranks_images]-->/<!--[$rank.rank_image]-->" alt="rankimage" />
                </td>
                <td><input type="text" name="ranks[<!--[$rank.rank_id]-->][rank_desc]" value="<!--[$rank.rank_desc]-->" maxlength="255" size="40" /></td>
                <td>
                    <input type="checkbox" value="1" name="ranks[<!--[$rank.rank_id]-->][rank_delete]" />
                </td>
            </tr>
            <!--[/foreach]-->
        </tbody>
    </table>
    <div class="<!--[$configclass]-->buttons">
        <button class="dzk_img ok" type="submit" name="submit" value="<!--[gt text="Submit"]-->"><!--[gt text="Submit"]--></button>
    </div>
</form>

<!--[include file='dizkus_admin_footer.html']-->
